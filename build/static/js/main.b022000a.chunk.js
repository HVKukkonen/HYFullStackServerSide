(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{126:function(e,n,t){e.exports=t(423)},422:function(e,n,t){},423:function(e,n,t){"use strict";t.r(n);var a=t(15),l=t.n(a),r=t(1),u=t.n(r),o=(t(130),t(26)),c=t(31),i=t.n(c),s=function(){return i.a.get("/persons")},m=function(e){return i.a.post("/persons",e)},f=function(e){return i.a.delete("".concat("/persons","/").concat(e))};t(422);var d=function(e){return e.person.name.toLowerCase().includes(e.filter.toLowerCase())&&e.exclude.indexOf(e.person.name)<0?u.a.createElement("p",null,e.person.name," ",e.person.number," ",e.button):null},b=function(e){return u.a.createElement("form",{onSubmit:e.addPerson},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:e.newName,onChange:e.charHandler})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:e.newNumber,onChange:e.numHandler})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},v=function(e){return u.a.createElement("div",null,"filter contacts by name:",u.a.createElement("input",{value:e.nameFilter,onChange:e.filterHandler}))};var p=function(e){return u.a.createElement("button",{onClick:function(){return function(e,n,t,a){if(window.confirm("Are you sure you want to remove "+e))return t("Contact removed successfully"),a(e),setTimeout((function(){return t(null)}),2e3),console.log("ButtonFunction id "+n),f(n)}(e.name,e.id,e.msgHandler,e.exclusionHandler)}}," remove ")},E=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1];Object(r.useEffect)((function(){console.log("effect"),s().then((function(e){console.log("promise fulfilled"),a(e.data)}))}),[]);var l,c=Object(r.useState)(""),i=Object(o.a)(c,2),f=i[0],E=i[1],g=Object(r.useState)(""),h=Object(o.a)(g,2),O=h[0],j=h[1],w=Object(r.useState)(""),H=Object(o.a)(w,2),y=H[0],C=H[1],S=Object(r.useState)(null),x=Object(o.a)(S,2),N=x[0],k=x[1],A=Object(r.useState)([]),F=Object(o.a)(A,2),P=F[0],B=F[1],J=function(e){B(P.concat(e))};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(v,{nameFilter:y,filterHandler:function(e){console.log("filter event",e.target.value),C(e.target.value)}}),u.a.createElement("h2",null,"Add new contact"),u.a.createElement(b,{addPerson:function(e){e.preventDefault();var n={name:f,number:O};!function(e,n){var t=!0;return e.forEach((function(e){e.name===n&&(t=!1)})),t}(t,f)?alert(f+" is not unique"):(E(f),j(O),console.log("post"),m(n).then((function(e){a(t.concat(e.data)),k("Addition successful!"),setTimeout((function(){return k(null)}),2e3)})))},newName:f,charHandler:function(e){console.log("char event",e.target.value),E(e.target.value)},newNumber:O,numHandler:function(e){console.log("num event",e.target.value),j(e.target.value)}}),null!==(l=N)?u.a.createElement("div",{className:"succAlertMsg"},l):null,u.a.createElement("h2",null,"Numbers"),console.log("persons ",t),t.map((function(e){return u.a.createElement(d,{key:e.name,person:e,filter:y,button:u.a.createElement(p,{name:e.name,id:e.id,msgHandler:k,exclusionHandler:J}),exclude:P})})))};l.a.render(u.a.createElement(E,null),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.b022000a.chunk.js.map