(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{126:function(e,n,t){e.exports=t(423)},422:function(e,n,t){},423:function(e,n,t){"use strict";t.r(n);var a=t(15),r=t.n(a),u=t(1),o=t.n(u),l=(t(130),t(26)),c=t(31),i=t.n(c),s=function(){return i.a.get("/persons")},m=function(e){return i.a.post("/persons",e)},f=function(e,n){return i.a.put("".concat("/persons","/").concat(e),n)},d=function(e){return i.a.delete("".concat("/persons","/").concat(e))};t(422);var b=function(e){return e.person.name.toLowerCase().includes(e.filter.toLowerCase())&&e.exclude.indexOf(e.person.name)<0?o.a.createElement("p",null,e.person.name," ",e.person.number," ",e.button):null},p=function(e){return o.a.createElement("form",{onSubmit:e.addPerson},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:e.newName,onChange:e.charHandler})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:e.newNumber,onChange:e.numHandler})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},v=function(e){return o.a.createElement("div",null,"filter contacts by name:",o.a.createElement("input",{value:e.nameFilter,onChange:e.filterHandler}))};var E=function(e){return o.a.createElement("button",{onClick:function(){return function(e,n,t,a){if(window.confirm("Are you sure you want to remove "+e))return t("Contact removed successfully"),a(e),setTimeout((function(){return t(null)}),2e3),console.log("ButtonFunction id "+n),d(n)}(e.name,e.id,e.msgHandler,e.exclusionHandler)}}," remove ")},g=function(){var e=Object(u.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){console.log("effect"),s().then((function(e){console.log("promise fulfilled"),a(e.data)}))}),[]);var r,c=Object(u.useState)(""),i=Object(l.a)(c,2),d=i[0],g=i[1],h=Object(u.useState)(""),w=Object(l.a)(h,2),O=w[0],j=w[1],H=Object(u.useState)(""),y=Object(l.a)(H,2),C=y[0],S=y[1],x=Object(u.useState)(null),N=Object(l.a)(x,2),k=N[0],A=N[1],F=Object(u.useState)([]),P=Object(l.a)(F,2),B=P[0],D=P[1],J=function(e){D(B.concat(e))};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(v,{nameFilter:C,filterHandler:function(e){console.log("filter event",e.target.value),S(e.target.value)}}),o.a.createElement("h2",null,"Add new contact"),o.a.createElement(p,{addPerson:function(e){e.preventDefault();var n={name:d,number:O};!function(e,n){var t=!0;return e.forEach((function(e){e.name===n&&(t=!1)})),t}(t,d)?window.confirm(d+" is not unique. Do you want to update with the number given?")&&f(t.find((function(e){return e.name===d})).id,n):(g(d),j(O),console.log("post"),m(n).then((function(e){a(t.concat(e.data)),A("Addition successful!"),setTimeout((function(){return A(null)}),2e3)})))},newName:d,charHandler:function(e){console.log("char event",e.target.value),g(e.target.value)},newNumber:O,numHandler:function(e){console.log("num event",e.target.value),j(e.target.value)}}),null!==(r=k)?o.a.createElement("div",{className:"succAlertMsg"},r):null,o.a.createElement("h2",null,"Numbers"),console.log("persons ",t),t.map((function(e){return o.a.createElement(b,{key:e.name,person:e,filter:C,button:o.a.createElement(E,{name:e.name,id:e.id,msgHandler:A,exclusionHandler:J}),exclude:B})})))};r.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.1c10038a.chunk.js.map